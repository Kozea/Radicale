# -*- mode: conf -*-
# vim:ft=cfg

# Logging config file for Radicale - A simple calendar server
#
# The default path for this kind of files is /etc/radicale/logging
# This can be changed in the configuration file
#
# Other handlers are available. For more information, see:
# http://docs.python.org/library/logging.config.html


# Loggers, handlers and formatters keys

[loggers]
# Loggers names, main configuration slots
keys = root

[handlers]
# Logging handlers, defining logging output methods
keys = console,file

[formatters]
# Logging formatters
keys = simple,full,filedebug


# Loggers

[logger_root]
# Root logger
level = DEBUG
handlers = console,file
# Disable line above and enable following line for dedicated additional debug log
#handlers = console,file,filedebug


# Handlers

[handler_console]
# Console handler
class = StreamHandler
level = INFO
args = (sys.stderr,)
formatter = simple

[handler_file]
formatter = full
# Enable following line in case dedicated debug log (see below) is activated
#level = INFO
# File handler
class = FileHandler
args = ('/var/log/radicale',)
# Time Rotating File Handler (class+args: disable above and enable below)
# (filename, when, interval, backupCount, ...) [see https://docs.python.org/3/library/logging.handlers.html#logging.handlers.TimedRotatingFileHandler]
#  example: rollover at midnight every day, keep 90 files (means 90 days)
#class = handlers.TimedRotatingFileHandler
#args = ('/var/log/radicale/radicale.log', 'midnight', 1, 90)

[handler_filedebug]
formatter = full
# File handler (for dedicated debug log)
class = FileHandler
args = ('/var/log/radicale/radicale-debug.log',)
# Time Rotating File Handler (class+args: disable above and enable below)
#  example: rollover every hour, keep 24 files (means 1 days)
#class = handlers.TimedRotatingFileHandler
#args = ('/var/log/radicale/radicale-debug.log', 'H', 1, 24)


# Formatters

[formatter_simple]
# Simple output format
format = [%(thread)x] %(levelname)s: %(message)s

[formatter_full]
# Full output format
format = %(asctime)s - [%(thread)x] %(levelname)s: %(message)s
